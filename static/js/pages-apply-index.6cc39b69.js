(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-apply-index"],{"1aea":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"\n.uni-list[data-v-7a842240]{margin-bottom:%?15?%\n}\n.uni-list[data-v-7a842240]:before{background:none\n}\n.half-box[data-v-7a842240]:after{background:none\n}\n.radio-block[data-v-7a842240]{padding-left:%?20?%\n}\n.uni-input[data-v-7a842240]{background:#fff\n}\n.half[data-v-7a842240]{width:45%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex\n}\n.apply-btn[data-v-7a842240]{width:80%;margin:%?20?% auto;color:#fff;background:-webkit-gradient(linear,left top,right top,from(#f9d744),to(#fca526));background:-o-linear-gradient(left,#f9d744,#fca526);background:linear-gradient(90deg,#f9d744,#fca526);-webkit-box-shadow:1px 1px 5px rgba(249,215,68,.8);box-shadow:1px 1px 5px rgba(249,215,68,.8);text-align:center;line-height:2;border-radius:%?30?%;font-size:%?32?%;padding:%?5?% 0\n}\n.apply-date[data-v-7a842240]{display:none\n}",""])},"40d8":function(t,e,n){"use strict";var i=Array.isArray||function(t){return t instanceof Array},a={SendMail:"http://www.spacehu.com/space/mail/mail.php?leo=alein.qi@163.com"},r=function(t){var e=[{id:1,title:"上海麦淘科学年卡",overview:"全年不限次畅玩",abstract:"上海麦淘科学年卡，线下科学活动全年预约",feature:"全年不限次畅玩",content:"<麦淘实验室><br/>从2014年到2018年已经有50万孩子用周末课后的时间共计在麦淘实验室体验了50万小时的STEM科学活动与课程涵盖物理、 创客、 工程、 生物、 化学、 天文等8大品类趣味生动的30+科学课程在上海、 北京、 南京、 杭州、 苏州、 宁波、 青岛、 西安已有近100个教学点<br/><br/><科学年卡><br/>市场价158-358元/节的科学课一个月上2次课，最低也要近4000<br/>现在购￥499 「科学年卡」即可全年不限次预约上课！用生动有趣的方式结合探究、互动、分析、动手等多种方法让孩子爱上科学，学习一整年！",price:"7999",sale:"499",total:"1000",putout:"122",brandLogo:"../../static/maotao/logo.jpg",navTo:"",slideimg:["../../static/maotao/img1.jpg","../../static/maotao/img2.jpg"],comment:{percent:"4.6",list:[{portrait:"../../static/maotao/logo.jpg",name:"amao",cont:"评激发学生英语学习兴趣，创建一种良性竞争的学习氛围； 2. 有助于学生积极展示自己的才能，建立英语学习自信",grade:"4.7",date:"2018-7-16"}]}},{id:2,title:"英孚青少儿英语",overview:"免费送麦粒 | 英孚青少儿英语，仅需0麦粒即可领取2节外教课",abstract:"英孚青少儿英语, 仅需注册即可领取2节外教课",feature:"引领孩子“趣”学英语，免费领取精品体验课程！",content:"EF英孚教育是全球知名私人英语教育机构，主要致力于语言学习、留学旅游及学位课程等方面。 EF 英孚教育已经把世界变成了一个英语大课堂。创新的英语学习系统、完全整合定制的英语教学材料、经过国际资格认证的外籍培训师、地处市区交通便利的现代化英语学习环境以及出游国外学习英语的机会。<br/><br/>EF英孚教育打造了一系列为学员、 专家所称道的英语教育产品。 这些英语教育产品让我们的学员随时随地都可以更有效便捷学习英语。 ",price:"7999",sale:"免费",total:"1000",putout:"112",brandLogo:"../../static/ef/logo.png",navTo:"",slideimg:["../../static/ef/img1.jpg","../../static/ef/img2.jpg"],comment:{percent:"4.9",list:[{portrait:"../../static/ef/logo.png",name:"amile",cont:"孩子喜欢这样的环境，老师很优秀，家长很放心",grade:"4.8",date:"2018-5-10"}]}},{id:3,title:"EF英孚教育 卓著英语培训专家",overview:"免费试听体验课",abstract:"",feature:"",content:"",price:"7999",sale:"免费",total:"1000",putout:"102",brandLogo:"../../static/ef/logo.png",navTo:"https://www.ef.com.cn/online/lp/cn/2017yr/mobile/product_feature_aa_light.aspx?ctr=cn&lng=cs&apr=ProductFeatureAA&offer=FreeDemo&ptn=EMSP&Etag=edm-dcoo-none-all-none-E_3rd_DS_030",slideimg:["../../static/ef/img1.jpg","../../static/ef/img2.jpg"],comment:{percent:"4.7",list:[{portrait:"../../static/ef/logo.png",name:"amile",cont:"孩子喜欢这样的环境，老师很优秀，家长很放心",grade:"4.8",date:"2018-5-10"}]}},{id:4,title:"随时，随地，学英语就是那么简单",overview:"免费试听体验课",price:"7999",sale:"免费",total:"1000",putout:"110",brandLogo:"../../static/ef/logo.png",navTo:"https://www.ef.com.cn/online/lp/cn/2017yr/mobile/product_feature_aa_light.aspx?ctr=cn&lng=cs&apr=ProductFeatureAA&offer=FreeDemo&ptn=EMSP&edm-DCOO-none-all-none-E_3rd_DS_018",slideimg:["../../static/ef/img1.jpg","../../static/ef/img2.jpg"],comment:{percent:"4.8",list:[{portrait:"../../static/ef/logo.png",name:"amile",cont:"孩子喜欢这样的环境，老师很优秀，家长很放心",grade:"4.0",date:"2018-5-10"}]}},{id:5,title:"专业认证培训师,教你地道英语",overview:"免费试听体验课",price:"7999",sale:"免费",total:"1000",putout:"101",brandLogo:"../../static/ef/logo.png",navTo:"http://www.ef.com.cn/online/lp/cn/2017yr/mobile/product_feature_ft_light.aspx?ctr=cn&lng=cs&apr=ProductFeatureFT&offer=FreeDemo&ptn=EMSP&Etag=edm-dcoo-none-all-none-E_3rd_DS_030",slideimg:["../../static/ef/img1.jpg","../../static/ef/img2.jpg"],comment:{percent:"4.5",list:[{portrait:"../../static/ef/logo.png",name:"amile",cont:"孩子喜欢这样的环境，老师很优秀，家长很放心",grade:"4.8",date:"2018-5-10"}]}}];return t?e[t]:e},s=function(t){var e=[{id:1}];return e[t]},o=function(t,e,n,i,a){uni.share({provider:"weixin",scene:"WXSceneSession",type:a||0,href:t,title:e,summary:n,imageUrl:i,success:function(t){console.log("success:"+JSON.stringify(t))},fail:function(t){console.log("fail:"+JSON.stringify(t))}})};e["a"]={Interface:a,getList:r,getDetail:s,share:o,isArray:i}},"8bd7":function(t,e,n){var i=n("1aea");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("0840717b",i,!0,{sourceMap:!1,shadowMode:!1})},"9f17":function(t,e){t.exports={error:"",check:function(t,e){for(var n=0;n<e.length;n++){if(!e[n].checkType)return!0;if(!e[n].name)return!0;if(!e[n].errorMsg)return!0;if(!t[e[n].name])return this.error=e[n].errorMsg,!1;switch(e[n].checkType){case"string":var i=new RegExp("^.{"+e[n].checkRule+"}$");if(!i.test(t[e[n].name]))return this.error=e[n].errorMsg,!1;break;case"int":i=new RegExp("^(-[1-9]|[1-9])[0-9]{"+e[n].checkRule+"}$");if(!i.test(t[e[n].name]))return this.error=e[n].errorMsg,!1;break;case"between":if(!this.isNumber(t[e[n].name]))return this.error=e[n].errorMsg,!1;var a=e[n].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),t[e[n].name]>a[1]||t[e[n].name]<a[0])return this.error=e[n].errorMsg,!1;break;case"betweenD":i=/^-?[1-9][0-9]?$/;if(!i.test(t[e[n].name]))return this.error=e[n].errorMsg,!1;a=e[n].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),t[e[n].name]>a[1]||t[e[n].name]<a[0])return this.error=e[n].errorMsg,!1;break;case"betweenF":i=/^-?[0-9][0-9]?.+[0-9]+$/;if(!i.test(t[e[n].name]))return this.error=e[n].errorMsg,!1;a=e[n].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),t[e[n].name]>a[1]||t[e[n].name]<a[0])return this.error=e[n].errorMsg,!1;break;case"same":if(t[e[n].name]!=e[n].checkRule)return this.error=e[n].errorMsg,!1;break;case"notsame":if(t[e[n].name]==e[n].checkRule)return this.error=e[n].errorMsg,!1;break;case"email":i=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!i.test(t[e[n].name]))return this.error=e[n].errorMsg,!1;break;case"phoneno":i=/^1[0-9]{10,10}$/;if(!i.test(t[e[n].name]))return this.error=e[n].errorMsg,!1;break;case"zipcode":i=/^[0-9]{6}$/;if(!i.test(t[e[n].name]))return this.error=e[n].errorMsg,!1;break;case"reg":i=new RegExp(e[n].checkRule);if(!i.test(t[e[n].name]))return this.error=e[n].errorMsg,!1;break;case"in":if(-1==e[n].checkRule.indexOf(t[e[n].name]))return this.error=e[n].errorMsg,!1;break;case"notnull":if(null==t[e[n].name]||t[e[n].name].length<1)return this.error=e[n].errorMsg,!1;break}}return!0},isNumber:function(t){var e=/^-?[1-9][0-9]?.?[0-9]*$/;return e.test(t)}}},"9ffb":function(t,e,n){"use strict";var i=n("8bd7"),a=n.n(i);a.a},e2c8:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt"},[n("v-uni-form",{on:{submit:function(e){e=t.$handleEvent(e),t.formSubmit(e)},reset:function(e){e=t.$handleEvent(e),t.formReset(e)}}},[n("v-uni-view",{staticClass:"uni-list"},[n("v-uni-view",{staticClass:"uni-list-cell"},[n("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("\n\t\t\t\t\t姓名\n\t\t\t\t")]),n("v-uni-view",{staticClass:"uni-list-cell-db"},[n("v-uni-input",{staticClass:"uni-input",attrs:{name:"UserName",placeholder:""}})],1)],1)],1),n("v-uni-view",{staticClass:"uni-list"},[n("v-uni-view",{staticClass:"uni-list-cell"},[n("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("\n\t\t\t\t\t电话\n\t\t\t\t")]),n("v-uni-view",{staticClass:"uni-list-cell-db"},[n("v-uni-input",{staticClass:"uni-input",attrs:{name:"UserPhone",type:"number",placeholder:""}})],1)],1)],1),n("v-uni-view",{staticClass:"uni-list half-box"},[n("v-uni-view",{staticClass:"uni-list-cell"},[n("v-uni-view",{staticClass:"uni-list half"},[n("v-uni-view",{staticClass:"uni-list-cell"},[n("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("\n\t\t\t\t\t\t\t年龄\n\t\t\t\t\t\t")]),n("v-uni-view",{staticClass:"uni-list-cell-db"},[n("v-uni-input",{staticClass:"uni-input",attrs:{name:"Age",type:"number",placeholder:"",value:""}})],1)],1)],1),n("v-uni-view",{staticClass:"uni-list half"},[n("v-uni-view",{staticClass:"uni-list-cell"},[n("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("\n\t\t\t\t\t\t\t性别\n\t\t\t\t\t\t")]),n("v-uni-view",{staticClass:"uni-list-cell-db"},[n("v-uni-picker",{attrs:{name:"Gender",value:t.index,range:t.gender},on:{change:function(e){e=t.$handleEvent(e),t.bindPickerChange(e)}}},[n("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.gender[t.index]))])],1)],1),n("uni-icon",{attrs:{size:"20",type:"arrowdown",color:"#DDDDDF"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"uni-list"},[n("v-uni-view",{staticClass:"uni-list-cell"},[n("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("\n\t\t\t\t\t邮箱\n\t\t\t\t")]),n("v-uni-view",{staticClass:"uni-list-cell-db"},[n("v-uni-input",{staticClass:"uni-input",attrs:{name:"Email",placeholder:""}})],1)],1)],1),n("v-uni-view",{staticClass:"uni-list apply-date"},[n("v-uni-view",{staticClass:"uni-list-cell"},[n("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("\n\t\t\t\t\t可约时间\n\t\t\t\t")]),n("v-uni-view",{staticClass:"uni-list-cell-db"},[n("v-uni-picker",{attrs:{mode:"date",name:"ApplyDate",value:t.date,start:t.startDate,end:t.endDate},on:{change:function(e){e=t.$handleEvent(e),t.bindDateChange(e)}}},[n("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.date))])],1)],1)],1)],1),n("v-uni-view",{staticClass:"uni-btn-v"},[n("v-uni-button",{staticClass:"apply-btn",attrs:{formType:"submit",loading:t.loading}},[t._v("立即申请")])],1)],1)],1)},a=[],r=n("40d8"),s=n("f29f"),o=n("9f17"),l=r["a"].Interface,c=2e3,u={data:function(){return{brand:"",date:"",gender:["男","女"],index:0,loading:!1}},onLoad:function(t){var e=t.key,n=r["a"].getList(e);n.title;console.log(n),this.date=t.date||this.getDate({format:!0}),this.brand=n.title,uni.setNavigationBarTitle({title:"申请预约 - "+n.title})},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},components:{uniIcon:s["a"]},methods:{bindPickerChange:function(t){this.index=t.target.value},bindDateChange:function(t){this.date=t.target.value},formSubmit:function(t){var e=this;if(1!=this.loading){var n=t.detail.value;this.loading=!0;var i=[{name:"UserName",checkType:"notnull",checkRule:"",errorMsg:"请填写姓名"},{name:"UserPhone",checkType:"phoneno",checkRule:"",errorMsg:"请填写正确的手机号"},{name:"Age",checkType:"betweenD",checkRule:"1,90",errorMsg:"请填写正确的年龄"},{name:"Email",checkType:"email",checkRule:"",errorMsg:"请填写正确的邮箱"}],a=o.check(n,i);if(a){var r={"预约品牌":this.brand,"客户姓名":n.UserName,"客户手机号":n.UserPhone,"年龄":n.Age,"性别":0==n.Gender?"男":"女","邮箱":n.Email,"意向区域":n.area||"全国","可约时间":n.ApplyDate};uni.request({url:l.SendMail,data:r,method:"POST",dataType:"json",success:function(t){uni.showToast({title:"请求成功",icon:"success",mask:!0,duration:c}),e.res=JSON.stringify(t),console.log(t)},fail:function(t){console.log("request fail",t),uni.showModal({content:t.errMsg,showCancel:!1})},complete:function(){e.loading=!1}})}else uni.showToast({title:o.error,icon:"none"}),this.loading=!1}},getDate:function(t){var e=new Date,n=e.getFullYear(),i=e.getMonth()+1,a=e.getDate();return"start"===t?n-=60:"end"===t&&(n+=2),i=i>9?i:"0"+i,a=a>9?a:"0"+a,"".concat(n,"-").concat(i,"-").concat(a)}}},d=u,f=(n("9ffb"),n("2877")),g=Object(f["a"])(d,i,a,!1,null,"7a842240",null);g.options.__file="index.vue";e["default"]=g.exports},f29f:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-icon",class:["uni-icon-"+t.type],style:{color:t.color,"font-size":t.fontSize},on:{click:function(e){e=t.$handleEvent(e),t.onClick()}}})},a=[],r={props:{type:String,color:String,size:[Number,String]},computed:{fontSize:function(){return"".concat(this.size,"px")}},methods:{onClick:function(){this.$emit("click")}}},s=r,o=n("2877"),l=Object(o["a"])(s,i,a,!1,null,null,null);l.options.__file="uni-icon.vue";e["a"]=l.exports}}]);
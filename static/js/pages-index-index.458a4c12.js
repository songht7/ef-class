(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0e01":function(e,t,a){var i=a("24fb"),n=a("1de5"),o=a("2529"),s=a("98617");t=i(!1);var c=n(o),r=n(s);t.push([e.i,".uni-navbar-header .uni-navbar-header-btns[data-v-71fbe98a]{width:18%!important}.city[data-v-71fbe98a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:100%;margin-left:8px;font-size:%?24?%}.filter-box[data-v-71fbe98a]{width:90%;margin:%?20?% auto 0}.filter-box[data-v-71fbe98a],\r\n.flt-block[data-v-71fbe98a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.ctgBox[data-v-71fbe98a]{width:70%}.ctg-btn-block[data-v-71fbe98a]{border:1px solid #b4b4b4;border-radius:%?50?%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.ctgBtns[data-v-71fbe98a]{padding:%?6?% %?50?%;font-size:%?32?%;border-radius:%?50?%}.ctgChecked[data-v-71fbe98a]{background:#f69a23;color:#fff}.moreCtg[data-v-71fbe98a]{width:30%;font-size:%?32?%;text-align:left;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.input-view[data-v-71fbe98a]{width:24%;text-align:center;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;background-color:#e7e7e7;height:%?60?%;border-radius:%?30?%;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;margin:%?14?% 0;line-height:%?60?%}.input-view .uni-icon[data-v-71fbe98a]{line-height:%?60?%!important}.input-view .input[data-v-71fbe98a]{height:%?60?%;line-height:%?60?%;width:100%;font-size:%?30?%}.searh-innter[data-v-71fbe98a]{padding:0 3%;width:94%}.search-ipt[data-v-71fbe98a]{background:url("+c+") %?15?% 50% no-repeat;padding-left:%?20?%;background-size:auto 60%}uni-input.search-ipt div[data-v-71fbe98a]{background:none;text-align:center}.searchShow[data-v-71fbe98a]{padding:0 4%;width:80%;text-align:left}.searchShow .search-ipt[data-v-71fbe98a]{background-position:right 50%;padding-left:0;padding-right:%?20?%}.searchShow uni-input.search-ipt div[data-v-71fbe98a]{text-align:left}.flt-txt[data-v-71fbe98a]{display:-webkit-box;display:-webkit-flex;display:flex;background:url("+r+") 0 50% no-repeat;background-size:auto 65%;padding-left:%?35?%}.tag-view[data-v-71fbe98a]{margin:%?10?% %?20?%;display:inline-block}.filter-ctg-list[data-v-71fbe98a]{padding-bottom:%?100?%}.f-block[data-v-71fbe98a]{display:inline-block;text-align:center}.pop-ctg-block[data-v-71fbe98a]{padding-bottom:%?20?%}.pop-ctg-name[data-v-71fbe98a]{font-size:%?32?%;line-height:2;padding:%?5?% 0}.f-label[data-v-71fbe98a]{padding:0}.checkbox[data-v-71fbe98a]{padding:%?5?% 8px;border:1px solid #cbcbcb;margin:0 %?8?% %?10?%;border-radius:%?8?%;font-size:%?26?%;color:#535353}.selectBox[data-v-71fbe98a]{background:#f69a23!important;color:#fff!important;border-color:#f69a23!important}.pop-ctg-btns[data-v-71fbe98a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?40?% 0 %?20?%;position:absolute;width:100%;left:0;bottom:0}.pop-btn[data-v-71fbe98a]{width:30%;background:#f69a23;color:#fff;font-size:%?36?%;text-align:center;line-height:1.8;margin:%?10?%;border-radius:%?50?%}.pop-btn.cancel[data-v-71fbe98a]{background:#f8b402}@media screen and (min-device-width:1025px){.city[data-v-71fbe98a]{font-size:14px}.filter-box[data-v-71fbe98a]{width:95%;margin:10px auto 0}.ctg-btn-block[data-v-71fbe98a]{border:1px solid #b4b4b4;border-radius:25px}.ctgBtns[data-v-71fbe98a]{padding:3px 25px;font-size:16px;border-radius:25px}.moreCtg[data-v-71fbe98a]{font-size:16px}.input-view[data-v-71fbe98a]{height:30px;border-radius:15px;margin:7px 0;line-height:1}.input-view .uni-icon[data-v-71fbe98a]{line-height:1!important}.input-view .input[data-v-71fbe98a]{height:30px;line-height:1;width:100%;font-size:15px}.searh-innter[data-v-71fbe98a]{height:100%}.search-ipt[data-v-71fbe98a]{height:100%;background:url("+c+") 7.5px 50% no-repeat;padding-left:10px;background-size:auto 80%}.searchShow .search-ipt[data-v-71fbe98a]{padding-right:10px}.top-search[data-v-71fbe98a]{height:100%}.flt-txt[data-v-71fbe98a]{padding-left:17.5px}.tag-view[data-v-71fbe98a]{margin:5px 10px}.filter-ctg-list[data-v-71fbe98a]{padding-bottom:50px}.pop-ctg-block[data-v-71fbe98a]{padding-bottom:10px}.pop-ctg-name[data-v-71fbe98a]{font-size:16px;line-height:2;padding:3px 0}.checkbox[data-v-71fbe98a]{padding:3px 8px;border:1px solid #cbcbcb;margin:0 4px 5px;border-radius:4px;font-size:13px}.pop-ctg-btns[data-v-71fbe98a]{padding:20px 0 10px}.pop-btn[data-v-71fbe98a]{font-size:18px;margin:5px;border-radius:25px}}",""]),e.exports=t},"2f96":function(e,t,a){var i=a("0e01");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("a15d4c7e",i,!0,{sourceMap:!1,shadowMode:!1})},"4d9a":function(e,t,a){"use strict";var i=a("2f96"),n=a.n(i);n.a},5776:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uniIcon:a("7344").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.pageCtg&&"cake"==e.pageCtg?[a("v-uni-view",{staticClass:"page cake-box"},[a("v-uni-view",{staticClass:"content"},[a("list-block",{attrs:{list:e.list,pageCtg:e.pageCtg}}),e.param.pageTotal>1?a("uni-load-more",{attrs:{loadingType:e.loadingType,contentText:e.contentText}}):e._e()],1)],1)]:[a("v-uni-view",{staticClass:"page ",class:e.$store.state.isWeixin?"page-main":""},[a("uni-nav-bar",{attrs:{color:"#333333","background-color":"#FFFFFF",fixed:"true",ctnfixed:"true",rightShow:"false","right-icon":"scan"},on:{"click-left":function(t){arguments[0]=t=e.$handleEvent(t),e.showCity.apply(void 0,arguments)}}},[a("template",{attrs:{slot:"left"},slot:"left"},[a("v-uni-view",{staticClass:"city",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showMulLinkageTwoPicker.apply(void 0,arguments)}}},[a("uni-icon",{attrs:{type:"location",color:"#333333",size:"22"}}),a("v-uni-text",[e._v(e._s(e.city))])],1)],1),a("v-uni-view",{staticClass:"input-view",class:e.searchShow?"searchShow":""},[a("v-uni-view",{staticClass:"searh-innter"},[a("v-uni-view",{staticClass:"search-ipt"},[a("v-uni-input",{staticClass:"input top-search",attrs:{"confirm-type":"search",type:"text",placeholder:e.placeholder,value:e.param.keywords},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.searchBox("focus")},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.searchBox("blur")}},model:{value:e.serchVal,callback:function(t){e.serchVal=t},expression:"serchVal"}})],1)],1)],1)],2),a("v-uni-view",{staticClass:"content"},[e.swiperList.length?a("swiper-block",{attrs:{swiperList:e.swiperList,autoplay:e.autoplay}}):e._e(),a("v-uni-view",{staticClass:"filter-box"},[a("v-uni-view",{staticClass:"flt-block ctgBox"},[a("v-uni-view",{staticClass:"ctg-btn-block"},e._l(e.ctg,(function(t,i){return e.ctg?a("v-uni-view",{key:i,staticClass:"ctgBtns ctgs",class:t.checked?"ctgChecked":"",attrs:{id:t.name},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.bindCtg(t.name,i)}}},[e._v(e._s(t.name))]):e._e()})),1)],1),a("v-uni-view",{staticClass:"flt-block moreCtg",attrs:{"data-position":"bottom"}},[a("v-uni-text",{staticClass:"flt-txt",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.filterCtgBtn.apply(void 0,arguments)}}},[e._v("筛选")])],1)],1),a("list-block",{attrs:{list:e.list,pageCtg:e.pageCtg}}),e.param.pageTotal>1?a("uni-load-more",{attrs:{loadingType:e.loadingType,contentText:e.contentText}}):e._e()],1),a("lvv-popup",{ref:"lvvpopref",attrs:{position:"bottom"}},[a("v-uni-view",{staticClass:"pop-inner"},[a("v-uni-view",{staticClass:"pop-box"},[a("v-uni-view",{staticClass:"pop-head"},[a("v-uni-view",{staticClass:"pop-title"},[e._v("筛选")]),a("v-uni-view",{staticClass:"pop-close",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closeBanner.apply(void 0,arguments)}}},[a("uni-icon",{attrs:{type:"closeempty",size:"42",color:"#666666"}})],1)],1),a("v-uni-view",{staticClass:"pop-main"},[a("v-uni-view",{staticClass:"pop-ctg-box"},[a("v-uni-form",{on:{reset:function(t){arguments[0]=t=e.$handleEvent(t),e.filterReset.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"filter-ctg-list"},[a("v-uni-view",{staticClass:"pop-ctg-block"},[a("v-uni-view",{staticClass:"pop-ctg-name"},[e._v("学科年龄")]),a("v-uni-radio-group",{attrs:{name:"age"}},e._l(e.ageRange,(function(t,i){return a("v-uni-label",{key:t.value,class:t.checked?"checkbox selectBox":"checkbox ",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.filterBtn(t.value,i,"age")}}},[a("v-uni-radio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{value:t.value,checked:t.checked}}),e._v(e._s(t.name))],1)})),1)],1),a("v-uni-view",{staticClass:"pop-ctg-block"},[a("v-uni-view",{staticClass:"pop-ctg-name"},[e._v("学科分类")]),a("v-uni-radio-group",{staticClass:"flt-list",attrs:{name:"subctg"}},e._l(e.subctg,(function(t,i){return a("v-uni-view",{key:t.value,staticClass:"f-block",class:t.checked?"checkbox selectBox":"checkbox ",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.filterBtn(t.value,i,"subCtg")}}},[a("v-uni-label",{staticClass:"f-label"},[a("v-uni-radio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{value:t.value,checked:t.checked}}),e._v(e._s(t.name))],1)],1)})),1)],1)],1),a("v-uni-view",{staticClass:"pop-ctg-btns"},[a("v-uni-view",{staticClass:"pop-btn cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closeBanner.apply(void 0,arguments)}}},[e._v("取消")]),a("v-uni-view",{staticClass:"pop-btn confirm",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.filterConfirm.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)],1)],1)],1)],1)],1),a("mpvue-picker",{ref:"mpvuePicker",attrs:{themeColor:e.themeColor,mode:e.mode,deepLength:e.deepLength,pickerValueDefault:e.pickerValueDefault,pickerValueArray:e.pickerValueArray},on:{onConfirm:function(t){arguments[0]=t=e.$handleEvent(t),e.onConfirm.apply(void 0,arguments)},onCancel:function(t){arguments[0]=t=e.$handleEvent(t),e.onCancel.apply(void 0,arguments)}}}),a("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:e.themeColor,pickerValueDefault:e.cityPickerValueDefault},on:{onCancel:function(t){arguments[0]=t=e.$handleEvent(t),e.onCancel.apply(void 0,arguments)},onConfirm:function(t){arguments[0]=t=e.$handleEvent(t),e.onConfirm.apply(void 0,arguments)}}}),a("uni-popup2",{attrs:{show:"setUserPopup"===e.setUserPopup,setUserPhone:"setUserPhone",position:"middle",mode:"insert",width:"80"},on:{hidePopup:function(t){arguments[0]=t=e.$handleEvent(t),e.togglePopup("")}}}),e.$store.state.isWeixin?[a("tab-bar")]:e._e(),e.copyrightShow?[a("copyright")]:e._e()],2)]},o=[]},a1e5:function(e,t,a){"use strict";var i=a("4ea4");a("4de4"),a("4160"),a("ac1f"),a("1276"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("e451")),o=i(a("feed")),s=i(a("5862")),c=i(a("de1f")),r=i(a("7007")),l=i(a("0513")),p=i(a("0a8a")),d=i(a("1e73")),u=i(a("cf81")),h=i(a("bb0c")),f=i(a("e1dc")),g=n.default.module,v=n.default.Interface,b=v.apiurl,k={data:function(){return{city:"上海",category:[],ageGroup:[],swiperList:[],autoplay:!1,region:[],pageCtg:"",ctg:[],subctg:[{value:"",name:"全部",checked:!0}],brand:[],ageRange:[{value:"-",name:"全部",checked:!0}],list:[],serchVal:"",ctgChecked:"",param:{pi:1,ps:6,keywords:"",region:"上海",cat:"",brand:"",age_start:"",age_end:"",subject_category:"",pageTotal:1,listTotal:0},loadingType:0,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},rdoAgeVal:"-",rdoSubCtgVal:"",searchShow:!1,searchBtnShow:!0,placeholder:"搜索",cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",pickerText:"",mulLinkageTwoPicker:h.default,mode:"",deepLength:1,pickerValueDefault:[0],pickerValueArray:[],successShow:"",copyrightShow:!1,setUserPopup:""}},computed:{},components:{uniIcon:s.default,uniNavBar:o.default,uniLoadMore:c.default,lvvPopup:r.default,uniTag:l.default,mpvuePicker:p.default,mpvueCityPicker:d.default,listBlock:f.default,uniPopup2:u.default},onLoad:function(e){var t=this,a=e.ctg?e.ctg:"";"cake"==a?(t.pageCtg=a,uni.setNavigationBarTitle({title:"蛋糕"}),t.param["cat"]=a):uni.setNavigationBarTitle({title:"英语免费试听课网"}),t.getList()},onShow:function(){this.$store.commit("change_page",0),this.$store.dispatch("checkWeixin"),this.$store.dispatch("cheack_user"),this.setUserPopup=this.$store.state.openid&&""===this.$store.state.phone&&"on"==this.$store.state.popup_user?"setUserPopup":"";var e=n.default.Interface.domain+"/?type=home#/",t="英语免费试听",a=n.default.Interface.domain+"/static/share.jpg",i="英语免费试听课，在这里找到你想要的";g.wxShare(e,t,a,i)},onReady:function(){var e=this,t=b+v.addr.slideShow,a=function(t){var a=t.list;uni.hideLoading(),e.setData("swiperList",a)},i=(g.getData(t,a),b+v.addr.getRegion2),n=function(t){var a=t.list;uni.hideLoading(),e.setData("region",a)},o=(g.getData(i,n),b+v.addr.getCategory),s=function(t){var a=t.list;a=a.filter((function(e,t){if("cake"!=e.name)return e})),uni.hideLoading(),e.setData("ctg",a)},c=(g.getData(o,s),b+v.addr.getSubjectCategory),r=function(t){var a=t.list;a.forEach((function(t){var a={value:t,name:t,checked:!1};e.subctg.push(a)})),uni.hideLoading()},l=(g.getData(c,r),b+v.addr.getBrand),p=function(t){var a=t.list;e.setData("brand",a),uni.hideLoading()},d=(g.getData(l,p),b+v.addr.getAgeRange),u=function(t){var a=t.list;a.forEach((function(t){var a={value:t,name:t,checked:!1};e.ageRange.push(a)}))};g.getData(d,u);e.getLocation()},onPullDownRefresh:function(){this.paramReset(),this.getList("refresh")},onReachBottom:function(){0===this.loadingType&&(this.param.pi>=this.param.pageTotal?this.loadingType=2:(this.param.pi=this.param.pi+1,this.loadingType=1,this.getList()))},methods:{getList:function(e){var t=this,a=t.param,i="?currentPage="+a.pi+"&pagesize="+a.ps+"&keywords="+a.keywords+"&region="+a.region+"&cat="+a.cat+"&brand="+a.brand+"&age_start="+a.age_start+"&age_end="+a.age_end+"&subject_category="+a.subject_category,n=b+v.addr.article+i;console.log(i);var o=function(i){uni.stopPullDownRefresh(),uni.hideLoading(),console.log("======article========"),console.log(i);var n=i.list,o=i.total;"cake"!=a.cat&&(n=n.filter((function(e,t){if("cake,蛋糕"!=e.tags)return e}))),e?t.list=n||[]:n&&n.forEach((function(e){t.list.push(e)})),t.copyrightShow=!0,t.loadingType=0,t.pagination(o)};g.getData(n,o)},pagination:function(e){var t=this.param.ps,a=Math.ceil(e/t);this.param.listTotal=e,this.param.pageTotal=a},setData:function(e,t){this[e]=t||[]},search:function(){uni.showToast({title:"搜索1"})},confirm:function(e){this.paramReset();var t=e.detail.value;this.param.keywords=t,this.getList("search"),this.searchBox("sch"),this.serchVal=t},searchBox:function(e){""==this.serchVal&&"blur"==e?(this.searchShow=!this.searchShow,this.searchBtnShow=!this.searchBtnShow,this.placeholder="搜索",this.blurToGet()):""!=this.serchVal&&"blur"==e?(this.searchShow=!0,this.searchBtnShow=!1,this.placeholder="学前英语试听",this.blurToGet()):"focus"==e&&(this.searchShow=!0,this.searchBtnShow=!1,this.placeholder="学前英语试听")},blurToGet:function(){var e=this.param.keywords,t=this.serchVal;this.param.keywords=t,e!=t&&this.getList("search")},getLocation:function(){uni.getLocation({type:"wgs84",success:function(e){console.log("=====getLocation-success====="),console.log(e);e.latitude,e.longitude},fail:function(e){console.log("=====getLocation-fail====="),console.log(e)}})},showCity:function(){},bindCtg:function(e,t){if(this.param.pi=1,1==this.ctg[t]["checked"])this.ctg[t]["checked"]=!1,this.param.cat="";else{for(var a in this.ctg)a!=t&&(this.ctg[a]["checked"]=!1);this.ctg[t]["checked"]=!0,this.param.cat=e}this.getList("search")},filterCtgBtn:function(){this.$refs.lvvpopref.show()},closeBanner:function(){this.$refs.lvvpopref.close()},filterConfirm:function(){this.param.pi=1;var e=this.rdoAgeVal.split("-");this.param.age_start=e[0],this.param.age_end=e[1],this.param.subject_category=this.rdoSubCtgVal,this.getList("search"),this.$refs.lvvpopref.close()},paramReset:function(){this.param.pi=1,this.param.pageTotal=1,this.param.listTotal=0,this.loadingType=0},filterBtn:function(e,t,a){switch(a){case"age":for(var i in this.rdoAgeVal=e,this.ageRange)this.ageRange[i].checked=!1;this.ageRange[t].checked=!0;break;case"subCtg":for(var n in this.rdoSubCtgVal=e,this.subctg)this.subctg[n].checked=!1;this.subctg[t].checked=!0;break}},onCancel:function(e){},onConfirm:function(e){var t=e.label.split("-");this.city=t[1],this.param.region=t[1],this.pickerText=e.label,this.param.pi=1,this.getList("search")},showMulLinkageTwoPicker:function(e){this.pickerValueArray=this.mulLinkageTwoPicker,this.mode="multiLinkageSelector",this.deepLength=2,this.pickerValueDefault=[8,0],this.$refs.mpvuePicker.show()},onBackPress:function(e){return this.$refs.mpvuePicker.showPicker?(this.$refs.mpvuePicker.pickerCancel(),!0):this.$refs.mpvueCityPicker.showPicker?(this.$refs.mpvueCityPicker.pickerCancel(),!0):void 0},onUnload:function(e){this.$refs.mpvuePicker.showPicker&&this.$refs.mpvuePicker.pickerCancel(),this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()},togglePopup:function(e){this.$store.commit("set_popup_user","off"),this.setUserPopup=e}}};t.default=k},ce1e:function(e,t,a){"use strict";a.r(t);var i=a("5776"),n=a("fe01");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("4d9a");var s,c=a("f0c5"),r=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"71fbe98a",null,!1,i["a"],s);t["default"]=r.exports},fe01:function(e,t,a){"use strict";a.r(t);var i=a("a1e5"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a}}]);